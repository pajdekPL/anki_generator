<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">
        <!-- http://getbootstrap.com/docs/5.1/ -->
        <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
        <script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"></script>
        <!-- https://favicon.io/emoji-favicons/money-bag/ -->
        <link href="/static/favicon.ico" rel="icon">
        <link href="/static/styles.css" rel="stylesheet">
        <title>Anki English FlashCards Generator</title>
    </head>
    <body>
        <nav class="bg-light border navbar navbar-expand-md navbar-light">
            <div class="container-fluid">
                <a href="/">Anki English FlashCards generator</a>
            </div>
        </nav>
        {% if get_flashed_messages() %}
        <header>
            <div class="alert alert-primary mb-0 text-center" role="alert">
                {{ get_flashed_messages() | join(" ") }}
            </div>
        </header>
        {% endif %}
        <main class="container-fluid py-5 text-center">
        <div class="container">
        <div class="row">
            <div class="col-6">
                Hello, here you can generate English vocabulary
                <a href="https://apps.ankiweb.net/">ANKI</a> flashcards from your list of words!
                <br>
                The only accepted file format is <b>.txt</b>
                Words should be separated by newlines or commas.
                <br>
                For every word will be generated:
                <li>Meanings and examples of usage</li>
                <li>American pronunciation audio file</li>
                <li>IPA[International Phonetic Alphabet] symbols</li>
                <br>
                Currently, all data is download from the <a href="https://dictionary.cambridge.org/">Cambridge dictionary</a>
                <form method=post enctype=multipart/form-data>
                    <br>
                    <div class="mb-3">
                        <input class="form-control mx-auto w-auto" autocomplete="off" name="deck_name" placeholder="Deck Name" type="text">
                    </div>
                    <div class="mb-3">
                        <input class="form-control mx-auto w-auto" type=file name=file>
                    </div>
                    <button class="btn btn-primary" type="submit">Generate</button>
                </form>
                <div>
                    {% if text %}
                    <p style="color:red;">{{ text }}</p>
                    {% endif %}
                </div>
            </div>
            <div class="col" id="mid">
                Example front of flashcard:
                <img src="static/example_front.png" class="img-fluid" style="width: auto; height: 60%;">
            </div>
            <div class="col" id="right">
                Example back of flashcard:
                <img src="static/example_back.png" class="img-fluid" style="width: auto; height: 60%;">
            </div>
        </div>
        <footer class="mb-5 small text-center text-muted">
            pajdek
        </footer>
    </body>
    {% if link_to_file %}
    <script>
        var right = document.getElementById('right');
        right.innerHTML = ""
        var mid = document.getElementById('mid');
        mid.innerHTML =
            `
            <h2>Anki deck generated!</h2>
            <br>
            Your Anki deck is ready click here to download:
            <br>
            <a class="btn btn-primary" href="{{ link_to_file }}" role="button">{{ file_name }}</a>
            <br>
            <p> Have a fruitful study! </p>
            <br>
            `
    </script>
    {% endif %}
    {% if problematic_words %}
    <script>
        var right = document.getElementById('right');
        right.innerHTML = `
        <p style="color:red;">Unfortunately, some problems occurred with getting meanings for those words:</p>
        {% for word in problematic_words %}
        <br>
        <b>{{ word }}</b>
        <br>
        {% endfor %}
        <br>
        Please check the spelling :)`;
    </script>
    {% endif %}
</html>